[![en](https://img.shields.io/badge/Language-EN-blue.svg)](https://github.com/user530/stampsoft_coffee/blob/master/README.md)
[![ru](https://img.shields.io/badge/Language-RU-red.svg)](https://github.com/user530/stampsoft_coffee/blob/master/README.ru.md)

# ЭМУЛЯТОР ВЕНДИНГА (прототип)
### Тестовое задание Стампсофт
Разработка проекта интерфейса кофейни / Vending machine UI with emulation
### АДАПТИРОВАНО ПОД РАЗРЕШЕНИЕ 1080х1920, БРАУЗЕР - CHROME
## Реализованные возможности:
- Представление на выбор пользователя товаров нескольких категорий
- Для каждого товара есть несколько первичных опций (размер напитка), дополнительных опций (сиропы) а также данных по процессу приготовления
- Вендинговое хранилище содержит информацию по запасу каждого товара
- С учётом выбранного товара, его размера (модификатор) и набора дополнительных опций определяется сумма заказа
- 2 варианта оплаты: наличными и картой
- Эмуляция процесса оплаты: возможность внесения средств, подтверждения и отмены (а также эмуляция вывода карты/возврата сдачи)
- Визуализация процесса приготовления (с учётом продукта и выбранных дополнительных опций)
- Изменение данных по продуктам (уменьшение остатков) и сохранение истории заказов

## Кратко по этапам:
##### 1. Промо экран
Просто небольшой рекламный постер, ничего особенного. При интеракции с экраном переводит пользователя на экран выбора.
##### 2. Экран выбора продукта
Данный экран предлагает пользователю ознакомиться с ассортиментом и выбрать желаемый продукт (в том числе размер напитка, а также дополнительные добавки). При продолжительном отсутствии пользовательской активности (10с по умолчанию), возвращается к демонстрации промо.
Демонстрируемая информация берётся из данных хранилища вендингового аппарата таких как название, картинка, базовая цена, итп. Информация об остатке была добавлена вне макета, для более удобного тестирования (изменение остатка и учёт размера остатка для установления успешного или провального результата).
##### 3. Экран выбора метода оплаты
Позволяет пользователю выбрать метод оплаты или отменить текущий заказ.
##### 4. Экран наличной оплаты
Эмулирует процесс ввода наличных: 
- Нажатие клавиши "1" эмулирует ввод 10 рублёвой банкноты
- Нажатие клавиши "2" эмулирует ввод 50 рублёвой банкноты
- Нажатие клавиши "3" эмулирует ввод 100 рублёвой банкноты

Для удобства пользователя сумма к уплате и сумма внесённая визуализируются. При подтверждении/отмене операции пользователю эмулируется возврат средств (сообщение в консоли)
##### 5. Экран безналичной оплаты
Эмулирует процесс оплаты банковской картой. Безналичный платёж предполагает первоначальную проверку всех данных, и если карта действительна, вызывает процедуру подтверждения пин-кода.
- Нажатие клавиши "1" эмулирует ввод рабочей карты, которая пройдёт все этапы проверки
- Нажатие клавиши "2" эмулирует ввод карты которая провалит первую проверку
- Нажатие клавиши "3" эмулирует ввод карты которая провалит вторую проверку
- Нажатие клавиши "4" эмулирует ввод карты которая провалит третью проверку
- Нажатие клавиши "5" эмулирует ввод карты которая провалит четвертую проверку

Так как данная операция является асинхронной, то отмена запущенной процедуры регистрирует запрос "отмены" операции, который сработает после завершения всех этапов проверки. Не отменённая операция которая прошла проверку потребует подтверждения пин-кода.
- Пин код со значением меньше 5000 эмулирует ошибку подтверждения
- Пин код со значением больше 5000 эмулирует успешное подтверждение

При подтверждении/отмене операции пользователю эмулируется возврат банковской карты (сообщение в консоли). Успешная операция также уменьшает запас продукта и добавляет информацию о заказе в историю. 
##### 6. Экран проваленной / отменённой оплаты
Демонстрирует пользователю причину провала (или отмены) и позволяет или повторить попытку продукта или отменить операцию
##### 7. Экран успешной оплаты
Демонстрирует пользователю уведомление об успешной оплате и, с установленной задержкой, (по умолчанию 3с) переводит к процессу приготовления напитка
##### 8. Экран приготовления продукта
Эмулирует приготовления напитка и демонстрирует этапы этого процесса. Этапы и время приготовления каждого продукта устанавливается динамично (по умолчанию каждый шаг 5с). Общее время приготовления складывается из времени приготовления самого продукта и "добавочного" времени дополнительных опций (для каждой выбранной опции время пропорционально количеству опции)
##### 9. Экран выдачи
Демонстрирует пользователю уведомление о завершении приготовления и, с установленной задержкой, (по умолчанию 3с) возвращается на промо экран
##### 10. Экран проваленной выдачи
Демонстрирует пользователю уведомление об отсутствии продукта (или недостаточном объеме для выполнения заказа)
